geom_boxplot()
homerange %>%
ggplot(aes(x=taxon, y=log10.mass, fill=taxon))+
geom_boxplot()
homerange %>%
ggplot(aes(x=taxon, y=log10.mass, fill=log10.mass))+
geom_boxplot()
homerange %>%
ggplot(aes(x=taxon, y=log10.mass, fill=taxon))+
geom_boxplot()+
coord_flip()
homerange %>%
ggplot(aes(x=taxon, y=log10.mass))+
geom_boxplot()+
coord_flip()
homerange %>%
ggplot(aes(x=taxon, y=log10.mass, fill=log10.mass))+
geom_boxplot()+
coord_flip()
homerange %>%
ggplot(aes(x=class, y=log10.mass))+
geom_boxplot()
homerange %>%
ggplot(aes(x=class, y=log10.mass, fill=taxon))+
geom_boxplot()+
coord_flip()
homerange %>%
ggplot(aes(x=class, y=log10.mass, color=class))+
geom_boxplot()+
coord_flip()
homerange %>%
ggplot(aes(x=class, y=log10.mass, fill=log10.mass))+
geom_boxplot()+
coord_flip()
homerange %>%
ggplot(aes(x=class, y=log10.mass, fill=class))+
geom_boxplot()+
coord_flip()
homerange %>%
ggplot(aes(x=class, y=log10.mass, fill=class))+
geom_boxplot()
homerange %>%
ggplot(aes(x=taxon, y=log10.mass, group=taxon))+
geom_boxplot()+
coord_flip()
homerange %>%
ggplot(aes(x=taxon, y=log10.mass, group=taxon))+
geom_boxplot()+
```
homerange %>%
ggplot(aes(x=taxon, y=log10.mass, group=taxon))+
geom_boxplot()
homerange %>%
ggplot(aes(x=class, y=log10.mass, group=taxon))+
geom_boxplot()
homerange %>%
ggplot(aes(x=class, y=log10.mass, fill=log10.mass))+
geom_boxplot()
homerange %>%
ggplot(aes(x=class, y=log10.mass, fill=taxon))+
geom_boxplot()
homerange %>%
ggplot(aes(x=class, y=log10.mass, group=taxon))+
geom_boxplot()
homerange %>%
ggplot(aes(x=class, y=log10.mass, group=taxon))+
geom_boxplot()
4. Use `fill` to show the range of `log10.mass` by taxonomic class with color codes.
## Line plots
Line plots are great when you need to show changes over time. Here we look at the number of samples for species DM and DS over the years represented in the `deserts` data. This takes some careful thought- we want to know how sampling has changed over time for these two species.
Let's start by making a clear x and y so we know what we are going to plot.
```{r}
homerange %>%
ggplot(aes(x=class, y=log10.mass))+
geom_boxplot()
library(tidyverse)
library(RColorBrewer)
library(paletteer)
library(janitor)
options(scipen=999) #cancels the use of scientific notation for the session
deserts <- read_csv("data/surveys_complete.csv")
homerange <- read_csv("data/Tamburelloetal_HomeRangeDatabase.csv", na = c("", "NA", "\\"))
homerange %>%
ggplot(aes(x=class, y=log10.mass))+
geom_boxplot()
homerange %>%
ggplot(aes(x=class, y=log10.mass, fill=class))+ #adding color code to each plot
geom_boxplot()
homerange %>%
ggplot(aes(x=class, y=log10.mass, group=taxon))+
geom_boxplot()
homerange %>%
ggplot(aes(x=class, y=log10.mass, fill=taxon))+
geom_boxplot()
deserts %>%
filter(species_id=="DM"|species_id=="DS")
deserts %>%
filter(species_id=="DM"|species_id=="DS") %>%
mutate(year=as.factor(year))
deserts %>%
filter(species_id=="DM"|species_id=="DS") %>%
mutate(year=as.factor(year)) %>% #not as.numeric because we are not going to add years as numbers together
group_by(year, species_id) %>%
summarise(n=n(), .groups = 'keep')
deserts %>%
filter(species_id=="DM"|species_id=="DS") %>%
mutate(year=as.factor(year)) %>% #not as.numeric because we are not going to add years as numbers together
group_by(year, species_id) %>%
summarise(n=n(), .groups = 'keep') %>%
pivot_wider(names_from = species_id, values_from = n)
deserts %>%
filter(species_id=="DM"|species_id=="DS") %>%
mutate(year=as.factor(year)) %>% #not as.numeric because we are not going to add years as numbers together
group_by(year, species_id) %>%
summarise(n=n(), .groups = 'keep') %>%
ggplot(aes(x=year, y=n, group=species_id, color=species_id))+
geom_line()
deserts %>%
filter(species_id=="DM"|species_id=="DS") %>%
mutate(year=as.factor(year)) %>% #not as.numeric because we are not going to add years as numbers together
group_by(year, species_id) %>%
summarise(n=n(), .groups = 'keep') %>%
ggplot(aes(x=year, y=n, group=species_id, color=species_id))+
geom_line()+
geom_point(shape=2)+ #you can experiment with shapes
theme(aexis.text.x=element_text(angle=30))
deserts %>%
filter(species_id=="DM"|species_id=="DS") %>%
mutate(year=as.factor(year)) %>% #not as.numeric because we are not going to add years as numbers together
group_by(year, species_id) %>%
summarise(n=n(), .groups = 'keep') %>%
ggplot(aes(x=year, y=n, group=species_id, color=species_id))+
geom_line()+
geom_point(shape=2)+ #you can experiment with shapes
theme(aexis.text.x=element_text(angle=30, hjust = 1))
deserts %>%
filter(species_id=="DM"|species_id=="DS") %>%
mutate(year=as.factor(year)) %>% #not as.numeric because we are not going to add years as numbers together
group_by(year, species_id) %>%
summarise(n=n(), .groups = 'keep') %>%
ggplot(aes(x=year, y=n, group=species_id, color=species_id))+
geom_line()+
geom_point(shape=2)+ #you can experiment with shapes
theme(aexis.text.x=element_text(angle=30, hjust = 1))+
labs(title = "number of samples for species DM & DS",
x="year",
y="n")
deserts %>%
filter(species_id=="DM"|species_id=="DS") %>%
mutate(year=as.factor(year)) %>% #not as.numeric because we are not going to add years as numbers together
group_by(year, species_id) %>%
summarise(n=n(), .groups = 'keep') %>%
ggplot(aes(x=year, y=n, group=species_id, color=species_id))+
geom_line()+
geom_point(shape=2)+ #you can experiment with shapes
theme(axis.text.x=element_text(angle=30, hjust = 1))+
labs(title = "number of samples for species DM & DS",
x="year",
y="n")
homerange %>%
ggplot(aes(x = log10.mass)) +
geom_histogram()+ #we can adjust the number of bins with the bins argument
labs(title = "Distribution of Body Mass")
homerange %>%
ggplot(aes(x = log10.mass)) +
geom_histogram(bins = 30)+ #we can adjust the number of bins with the bins argument
labs(title = "Distribution of Body Mass")
homerange %>%
ggplot(aes(x = log10.mass)) +
geom_histogram(bins = 20)+ #we can adjust the number of bins with the bins argument
labs(title = "Distribution of Body Mass")
homerange %>%
ggplot(aes(x = log10.mass)) +
geom_histogram(bins = 10)+ #we can adjust the number of bins with the bins argument
labs(title = "Distribution of Body Mass")
grDevices::colors()
homerange %>%
ggplot(aes(x = log10.mass)) +
geom_histogram(color = "black", fill = "royalblue3", bins=10)+
labs(title = "Distribution of Body Mass")
homerange %>%
ggplot(aes(x = log10.mass)) +
geom_histogram(color = "black", fill = "tan", bins=10)+
labs(title = "Distribution of Body Mass")
homerange %>%
ggplot(aes(x = log10.mass)) +
geom_histogram(color = "black", fill = "tomato3", bins=10)+
labs(title = "Distribution of Body Mass")
homerange %>%
ggplot(aes(x = log10.mass)) +
geom_histogram(color = "black", fill = "tomato1", bins=10)+
labs(title = "Distribution of Body Mass")
homerange %>%
ggplot(aes(x = log10.mass)) +
geom_histogram(color = "black", fill = "tomato4", bins=10)+
labs(title = "Distribution of Body Mass")
homerange %>%
ggplot(aes(x = log10.mass)) +
geom_histogram(color = "black", fill = "tomato3", bins=10)+
labs(title = "Distribution of Body Mass")
homerange %>%
ggplot(aes(x = log10.mass)) +
geom_histogram(color = "black", fill = "linen", bins=10)+
labs(title = "Distribution of Body Mass")
homerange %>%
ggplot(aes(x = log10.mass)) +
geom_density(fill="deepskyblue4", alpha  =0.4, color = "black")+ #alpha is the transparency
labs(title = "Distribution of Body Mass")
homerange %>%
ggplot(aes(x=log10.mass)) +
geom_histogram(aes(y = after_stat(density)), fill = "deepskyblue4", alpha = 0.4, color = "black")+
geom_density(color = "red")+
labs(title = "Distribution of Body Mass")
homerange %>%
ggplot(aes(x=log10.hra))+
geom_histogram()
homerange %>%
ggplot(aes(x=log10.hra))+
geom_histogram(fill="linen")
homerange %>%
ggplot(aes(x=log10.hra))+
geom_histogram(fill="tomato3")
homerange %>%
ggplot(aes(x=log10.hra))+
geom_histogram(fill="tomato3")+
labs(title = "Count for Mass")
homerange %>%
ggplot(aes(x=log10.hra))+
geom_density()
geom_histogram(aes(y=after_stat(density), fill="linen", color="black")
geom_density(color="red")
geom_density(color="tomato3")
ggplot(aes(x=log10.hra, na.rm=T))+
geom_histogram(aes(y=after_stat(density), fill="violetred2", alpha=0.3, color="black")+
homerange %>%
ggplot(aes(x=log10.hra))+
geom_histogram(aes(y=after_stat(density), fill="violetred2", alpha=0.3, color="black")+
geom_density(color="tomato3")
homerange %>%
ggplot(aes(x=log10.hra))+
geom_histogram(aes(y=after_stat(density), fill="violetred2", alpha=0.3, color="black"))+
geom_density(color="tomato3")+
labs(title="Distribution of Homerange")
glimpse(homerange)
homerange %>%
select(log10.mass) %>%
summarise(min=min(log10.mass),
max=max(log10.mass))
summary(homerange$log10.mass)
homerange %>%
mutate(mass_category=case_when(log10.mass<=1.75 ~"small"))#when log10.mass smaller than 1.75, categorize it into "small"
homerange %>%
mutate(mass_category=case_when(log10.mass<=1.75 ~"small",#when log10.mass smaller than 1.75, categorize it into "small"
log10.mass>1.75 & log10.mass<=2.75 ~ "medium",
log10.mass>2.75 ~"large"))
homerange %>%
mutate(mass_category=case_when(log10.mass<=1.75 ~"small",
log10.mass>1.75 & log10.mass<=2.75 ~ "medium",
log10.mass>2.75 ~"large")) %>%
ggplot(aes(x=mass_category, fill=trophic.guild))+
geom_bar(position="dodge")
homerange %>%
mutate(mass_category=case_when(log10.mass<=1.75 ~"small",
log10.mass>1.75 & log10.mass<=2.75 ~ "medium",
log10.mass>2.75 ~"large")) %>%
ggplot(aes(x=mass_category, fill=trophic.guild))+
geom_bar()
homerange %>%
mutate(mass_category=case_when(log10.mass<=1.75 ~"small",
log10.mass>1.75 & log10.mass<=2.75 ~ "medium",
log10.mass>2.75 ~"large")) %>%
ggplot(aes(x=mass_category, fill=trophic.guild))+
geom_bar(position="dodge")# position dodge means fill the color side by side
library(tidyverse)
library(RColorBrewer)
library(paletteer)
library(janitor)
options(scipen=999) #cancels the use of scientific notation for the session
deserts <- read_csv("data/surveys_complete.csv")
homerange <- read_csv("data/Tamburelloetal_HomeRangeDatabase.csv", na = c("", "NA", "\\"))
summary(homerange$log10.hra)
library(gtools)
install.packages("gtools")
#install.packages("gtools")
library(gtools)
quartiles <- quantcut(homerange$log10.hra)
table(quartiles)
homerange %>%
mutate(range_category=case_when(log10.hra<3.65 ~ "very small"))
homerange %>%
mutate(range_category=case_when(log10.hra<3.65 ~ "very small",
log10.hra>=3.65 &log10.hra<4.59 ~ "small",
log10.hra<3.65 ~ "very small"))
homerange %>%
mutate(range_category=case_when(log10.hra<3.65 ~ "very small",
log10.hra>=3.65 &log10.hra<4.59 ~ "small",
log10.hra>4.59 ~ "large"))
homerange %>%
mutate(range_category=case_when(log10.hra<3.65 ~ "very small",
log10.hra>=3.65 &log10.hra<4.59 ~ "small",
log10.hra>=4.59 ~ "large"))
homerange %>%
mutate(range_category=case_when(log10.hra<3.65 ~ "very small",
log10.hra>=3.65 &log10.hra<4.59 ~ "small",
log10.hra>=4.59 &log10.hra<6.02~ "medium",
log10.hra>=6.02 ~ "large"))
homerange %>%
mutate(range_category=case_when(log10.hra<3.65 ~ "very small",
log10.hra>=3.65 &log10.hra<4.59 ~ "small",
log10.hra>=4.59 &log10.hra<6.02~ "medium",
log10.hra>=6.02 ~ "large")) %>%
ggplot(aes(x=range_category, fill=class))+
geom_bar(position = "dodge", alpha=0.6, color="black")
homerange %>%
filter(range_category=="small")
homerange %>%
mutate(range_category=case_when(log10.hra<3.65 ~ "very small",
log10.hra>=3.65 &log10.hra<4.59 ~ "small",
log10.hra>=4.59 &log10.hra<6.02~ "medium",
log10.hra>=6.02 ~ "large")) %>%
filter(range_category=="small")
homerange %>%
mutate(range_category=case_when(log10.hra<3.65 ~ "very small",
log10.hra>=3.65 &log10.hra<4.59 ~ "small",
log10.hra>=4.59 &log10.hra<6.02~ "medium",
log10.hra>=6.02 ~ "large")) %>%
filter(range_category=="small") %>%
ggplot(aes(x=class, y=log10.mass, fill=class))+
geom_boxplot()
library(tidyverse)
library(RColorBrewer)
library(paletteer)
library(janitor)
options(scipen=999) #cancels the use of scientific notation for the session
homerange <- read_csv("data/Tamburelloetal_HomeRangeDatabase.csv", na = c("", "NA", "\\"))
p <- homerange %>%
ggplot(aes(x=taxon, fill=trophic.guild))+
geom_bar(na.rm=T, position="dodge")
p + theme_linedraw()+
theme(axis.text.x = element_text(angle = 60, hjust=1))+
labs(title = "Observations by Taxon in Homerange Data",
x = NULL,
y= "n",
fill= "Trophic Guild")
q<-
homerange %>%
ggplot(aes(x=log10.mass, y=log10.preymass))
q<-
homerange %>%
ggplot(aes(x=log10.mass, y=log10.preymass, color=taxon))+
geom_jitter()
View(q)
q
q<-
homerange %>%
ggplot(aes(x=log10.mass, y=log10.preymass, color=taxon))+
geom_jitter(na.rm = T)
q<-
homerange %>%
ggplot(aes(x=log10.mass, y=log10.preymass, color=taxon))+
geom_jitter(na.rm = T)
q+theme_classic()
#install.packages("ggthemes")
library(ggthemes)
p+theme_linedraw()+
theme(legend.position = "bottom",
axis.text.x = element_text(angle = 60, hjust=1))+
labs(title = "Observations by Taxon in Homerange Data",
x = NULL,
y= "n",
fill= "Trophic Guild")
p+theme_linedraw()+
theme(legend.position = "bottom", # or top
axis.text.x = element_text(angle = 60, hjust=1))+
labs(title = "Observations by Taxon in Homerange Data",
x = NULL,
y= "n",
fill= "Trophic Guild")
install.packages("ggthemes")
install.packages("ggthemes")
#install.packages("ggthemes")
library(ggthemes)
ls("package:ggthemes")[grepl("theme_", ls("package:ggthemes"))]
p +
theme_fivethirtyeight()+
theme(legend.position = "bottom",
axis.text.x = element_text(angle = 60, hjust=1))+
labs(title = "Observations by Taxon in Homerange Data",
x = NULL,
y= "n",
fill= "Trophic Guild")
p +
theme_economist()+
theme(legend.position = "bottom",
axis.text.x = element_text(angle = 60, hjust=1))+
labs(title = "Observations by Taxon in Homerange Data",
x = NULL,
y= "n",
fill= "Trophic Guild")
q +
theme_economist()+
theme(legend.position = "bottom",
axis.text.x = element_text(angle = 60, hjust=1))+
labs(title = "Observations by Taxon in Homerange Data",
x = NULL,
y= "n",
fill= "Trophic Guild")
?RColorBrewer
display.brewer.pal(3,"Blues") #sequential palette
q+scale_colour_brewer(palette = "PuBuGn")
colors <- paletteer::palettes_d_names
View(colors)
View(colors)
barplot(rep(1,6), axes=FALSE, col=my_palette) #show my palette
my_palette <- paletteer_d("ggsci::nrc_npg") #store my palette
barplot(rep(1,6), axes=FALSE, col=my_palette) #show my palette
p+scale_fill_manual(values=my_palette)+
theme(legend.position = "bottom",
axis.text.x = element_text(angle = 60, hjust=1))+
labs(title = "Observations by Taxon in Homerange Data",
x = NULL,
y= "n",
fill= "Trophic Guild")
homerange %>%
ggplot(aes(x=taxon, y=log10.mass))+
geom_boxplot()+
facet_wrap(~trophic.guild)
theme(axis.text.x = element_text(angle = 60, hjust=1))
homerange %>%
ggplot(aes(x=taxon, y=log10.mass))+
geom_boxplot()+
facet_wrap(~trophic.guild)+
theme(axis.text.x = element_text(angle = 60, hjust=1))
homerange %>%
ggplot(aes(x=taxon, y=log10.mass))+
geom_boxplot()+
facet_grid(trophid.guild~.)+
theme(axis.text.x = element_text(angle = 60, hjust=1))
homerange %>%
ggplot(aes(x=taxon, y=log10.mass))+
geom_boxplot()+
facet_grid(trophic.guild~.)+
theme(axis.text.x = element_text(angle = 60, hjust=1))
homerange %>%
ggplot(aes(x=taxon, y=log10.mass))+
geom_boxplot()+
facet_grid(trophic.guild~thermoregulation)+
theme(axis.text.x = element_text(angle = 60, hjust=1))
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(janitor)
library(here)
library(naniar)
options(scipen = 999)
#install.packages("gapminder")
library("gapminder")
#library("gapminder")
```
install.packages("gapminder")
#library("gapminder")
#install.packages("gapminder")
library("gapminder")
library(tidyverse)
library(janitor)
library(here)
library(naniar)
options(scipen = 999)
#install.packages("gapminder")
library("gapminder")
glimpse(gapminder)
gapminder <- gapminder
View(gapminder)
table(gapminder)
summary(gapminder)
glimpse(gapminder)
library(tidyverse)
library(RColorBrewer)
library(paletteer)
#install.packages("RColorBrewer")
install.packages("paletteer")
library(tidyverse)
library(RColorBrewer)
library(paletteer)
library(janitor)
options(scipen=999) #cancels the use of scientific notation for the session
homerange <- read_csv("data/Tamburelloetal_HomeRangeDatabase.csv", na = c("", "NA", "\\"))
homerange %>%
ggplot(aes(x = log10.mass)) +
geom_density(fill="deepskyblue4", alpha  =0.4, color = "black")+ #alpha is the transparency
labs(title = "Distribution of Body Mass")
grDevices::colors()
library(tidyverse)
library(RColorBrewer)
library(paletteer)
library(janitor)
options(scipen=999) #cancels the use of scientific notation for the session
homerange <- read_csv("data/Tamburelloetal_HomeRangeDatabase.csv", na = c("", "NA", "\\"))
p <- homerange %>%
ggplot(aes(x=taxon, fill=trophic.guild))+
geom_bar(na.rm=T, position="dodge")
p + theme_linedraw()+
theme(axis.text.x = element_text(angle = 60, hjust=1))+
labs(title = "Observations by Taxon in Homerange Data",
x = NULL,
y= "n",
fill= "Trophic Guild")
q<-
homerange %>%
ggplot(aes(x=log10.mass, y=log10.preymass, color=taxon))+
geom_jitter(na.rm = T)
q+theme_classic()
is.na(gapminder)
