filter(bodywt<10) %>%
summarize(mean_sleep_s=mean(sleep_total),
min_sleep_s=min(sleep_total),
max_sleep_s=max(sleep_total),
sd_sleep_s=sd(sleep_total),
total=n())
View(msleep)
msleep %>%
clean_names()
msleep %>%
mutate_all(tolower)
msleep %>%
mutate_all(tolower) %>%
filter(order == "primates") %>%
summarise(mean_bodywt=mean(bodywt),
min_bodywt=min(bodywt),
max_bodywt=max(bodywt)
total=n())
msleep %>%
mutate_all(tolower) %>%
filter(order == "primates") %>%
summarise(mean_bodywt=mean(bodywt),
min_bodywt=min(bodywt),
max_bodywt=max(bodywt),
total=n())
msleep %>%
summarise(n-genera=n_distinct(genus))
msleep %>%
summarise(n-genera = n_distinct(genus))
msleep %>%
summarize(n-genera = n_distinct(genus)) ## this
msleep %>%
summarize(n_genera = n_distinct(genus)) ## this
msleep %>%
filter(bodywt > 100)
msleep %>%
summarise(meam_sleep_total=mean(sleep_total),
min_sleep_total=min(sleep_total),
max_sleep_total=max(sleep_total),
total=n())
msleep %>%
group_by(order) %>%
summarise(mean_bt=mean(brainwt))
msleep %>%
group_by(order) %>%
summarise(mean_bt=mean(brainwt, na.rm = T))
msleep %>%
group_by(order) %>%
summarise(mean_bt=mean(brainwt, na.rm = T))
msleep %>%
filter(order=="Cetacea") %>%
select(order, genus, brainwt)
library("tidyverse")
library("janitor")
library("skimr")
library("palmerpenguins")
penguins <- penguins
View(penguins)
penguins %>%
group_by(island) %>%
summarise(mean(island))
names(penguins)
penguins %>%
group_by(island) %>%
summarise(mean_bl = mean(bill_length_mm),
mean_bd = mean(bill_depth_mm))
penguins %>%
group_by(island) %>%
summarise(mean_bl = mean(bill_length_mm, na.rm = T),
mean_bd = mean(bill_depth_mm,na.rm = T))
penguins %>%
group_by(island) %>%
summarise(number_NAs = sum(is.na(body_mass_g)))
summarize(mean_bm=mean(body_mass_g))
penguins %>%
filter(!is.na(body_mass_g)) %>% ## take out all the NAs in the observation
group_by(island) %>%
summarize(mean_bm=mean(body_mass_g))
penguins %>%
group_by(species, island) %>%
summarize(n=n(), .groups= 'keep')#the .groups argument here just prevents a warning message
penguins %>%
tabyl(island, species)
penguins %>%
count(island, sort = T) #sort=T sorts the column in descending order
penguins %>%
group_by(island) %>%
summarize(n=n())
penguins %>%
count(island, species, sort = T) # sort=T will arrange in descending order
penguins %>%
group_by(species) %>%
summarize(mean_bl=mean(bill_length_mm, na.rm = T))
filter(penguins, sex == NA)
filter(penguins, sex == "NA")
penguins %>%
table(sex)
penguins %>%
group_by(species) %>%
summarize(mean_bl=mean(bill_length_mm, na.rm = T),
n=n())
penguins %>%
tables(sex)
penguins %>%
levels(sex)
penguins %>%
str(sex)
names(penguins)
penguins %>%
table(sex) ##why
table(penguins$sex)
knitr::opts_chunk$set(echo = TRUE)
getwd()
x <- c(1,2,3,4,5)
sd(x)
install.packages("tidyverse")
ggplot(mtcars, aes(x = factor(cyl))) +
geom_bar()
my_vector_sequence <- c(1:100)
my_vector_sequence[3]
my_vector_sequence<=3
my_vector_sequence[my_vector_sequence<=3]
data.frame()
str()
library("tidyverse")
library("janitor")
install.packages("skimr")
library("skimr")
library("palmerpenguins")
msleep <- msleep
msleep24 <- msleep %>%
mutate(sleep_total_24 = sleep_total/24) %>%
select(name, vore, sleep_total_24, sleep_total) %>%
filter(sleep_total_24<= 0.3) %>%
arrange(desc(sleep_total_24))
msleep24
skim(msleep24)
head(msleep)
msleep %>%
filter(bodywt<10) %>%
summarize(mean_sleep_s=mean(sleep_total),
min_sleep_s=min(sleep_total),
max_sleep_s=max(sleep_total),
sd_sleep_s=sd(sleep_total), ##standard deviation
total=n()) ##the # of observations (rows)
msleep %>%
summarize(n_genera=n_distinct(genus))
msleep %>%
tabyl(genus)
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(janitor)
library(skimr)
fisheries <- readr::read_csv(file = "data/FAO_1950to2012_111914.csv")
names(fisheries)
fisheries<- clean_names(fisheries)
View(fisheries)
fisheries_tidy$catch <- as.numeric(fisheries_tidy$catch)
fisheries_tidy <- fisheries %>%
pivot_longer(-c(country,common_name,isscaap_group_number,isscaap_taxonomic_group,asfi#s_species_number,asfis_species_name,fao_major_fishing_area,measure),
names_to = "year",
fisheries_tidy <- fisheries %>%
pivot_longer(-c(country,common_name,isscaap_group_number,isscaap_taxonomic_group,asfis_species_number,asfis_species_name,fao_major_fishing_area,measure),
names_to = "year",
values_to = "catch",
values_drop_na = TRUE) %>%
mutate(year= as.numeric(str_replace(year, 'x', ''))) %>%
mutate(catch= str_replace(catch, c(' F'), replacement = '')) %>%
mutate(catch= str_replace(catch, c('...'), replacement = '')) %>%
mutate(catch= str_replace(catch, c('-'), replacement = '')) %>%
mutate(catch= str_replace(catch, c('0 0'), replacement = ''))
fisheries_tidy$catch <- as.numeric(fisheries_tidy$catch)
View(fisheries_tidy)
levels(fisheries_tidy)
table(fisheries_tidy)
glimpse(fisheries_tidy)
str(fisheries_tidy)
str(fisheries_tidy$country)
glimpse(fisheries_tidy$country)
table(fisheries_tidy$country)
names(fisheries_tidy)
fisheries1 <- select(fisheries_tidy, country, isscaap_group_number, asfis_species_name, asfis_species_number, year, catch)
summarise(distinct_species_number=n_distinct(fisheries_tidy$asfis_species_number))
levels(fisheries1$asfis_species_number)
fisheries_tidy %>%
summarise(disinct_countries=n_distinct(country)) %>%
unique(country)
fisheries_tidy %>%
summarise(disinct_countries=n_distinct(country))
unique(fisheries_tidy$country)
summarise(distinct_species_number=n_distinct(fisheries_tidy$asfis_species_number))
fisheries1$asfis_species_number <- as.factor(fisheries1$asfis_species_number)
summarise(distinct_species=n_distinct(fisheries_tidy$asfis_species_number))
fisheries1$asfis_species_number <- as.factor(fisheries1$asfis_species_number)
summarise(distinct_species=n_distinct(fisheries1$asfis_species_number))
fisheries1$asfis_species_number <- as.factor(fisheries1$asfis_species_number)
fisheries1$asfis_species_number <- as.factor(fisheries1$asfis_species_number)
summarise(distinct_species=n_distinct(fisheries1$asfis_species_number))
library(tidyverse)
library(janitor)
library(skimr)
fisheries <- readr::read_csv(file = "data/FAO_1950to2012_111914.csv")
fisheries<- clean_names(fisheries)
fisheries_tidy <- fisheries %>%
pivot_longer(-c(country,common_name,isscaap_group_number,isscaap_taxonomic_group,asfis_species_number,asfis_species_name,fao_major_fishing_area,measure),
names_to = "year",
values_to = "catch",
values_drop_na = TRUE) %>%
mutate(year= as.numeric(str_replace(year, 'x', ''))) %>%
mutate(catch= str_replace(catch, c(' F'), replacement = '')) %>%
mutate(catch= str_replace(catch, c('...'), replacement = '')) %>%
mutate(catch= str_replace(catch, c('-'), replacement = '')) %>%
mutate(catch= str_replace(catch, c('0 0'), replacement = ''))
fisheries_tidy$catch <- as.numeric(fisheries_tidy$catch)
fisheries1 <- select(fisheries_tidy, country, isscaap_group_number, asfis_species_name, asfis_species_number, year, catch)
fisheries1$asfis_species_number <- as.factor(fisheries1$asfis_species_number)
summarise(distinct_species=n_distinct(fisheries1$asfis_species_number))
fisheries1$asfis_species_number <- as.factor(fisheries1$asfis_species_number)
class(fisheries1$asfis_species_number)
summarise(distinct_species=n_distinct(fisheries1$asfis_species_number))
View(fisheries1)
fisheries1 %>%
group_by(country) %>%
summarise(total=n())
fisheries1 %>%
group_by(country) %>%
summarise(total=n()) %>%
arrange(desc())
fisheries1 %>%
group_by(country) %>%
summarise(total=n()) %>%
arrange()
fisheries1 %>%
group_by(country) %>%
summarise(total=n())
arrange(desc(fisheries2))
arrange(desc(fisheries2))
fisheries2 <- fisheries1 %>%
group_by(country) %>%
summarise(total=n())
arrange(desc(fisheries2))
arrange(desc(fisheries2$total))
fisheries2 <- fisheries1 %>%
group_by(country) %>%
summarise(total=n()) %>%
arrange(desc(total))
View(fisheries2)
fisheries1 %>%
group_by(country) %>%
summarise(total=n()) %>%
arrange(desc(total))
fisheries1 %>%
filter(year>=1990, year<=2000)
fisheries1 %>%
filter(year>=1990 & year<=2000)
fisheries1 %>%
filter(year>=1990 & year<=2000) %>%
group_by(country)
fisheries1 %>%
group_by(country) %>%
summarise(total=n()) %>%
arrange(desc(total))
fisheries1 %>%
group_by(country) %>%
summarise(total=n(catch)) %>%
arrange(desc(total))
fisheries1 %>%
filter(year>=1990 & year<=2000) %>%
filter(asfis_species_name == "Sardina pilchardus")
fisheries1 %>%
group_by(country) %>%
filter(year==2000) %>%
summarise(total=n()) %>%
arrange(desc(total))
fisheries1 %>%
group_by(country) %>%
filter(year==2000)
fisheries1 %>%
group_by(country) %>%
filter(year==2000) %>%
summarise(total=n()) %>%
arrange(desc(total))
fisheries1 %>%
filter(year>=1990 & year<=2000) %>%
filter(asfis_species_name == "Sardina pilchardus") %>%
group_by(country) %>%
summarise(total=n())
fisheries1 %>%
filter(year>=1990 & year<=2000) %>%
filter(asfis_species_name == "Sardina pilchardus") %>%
group_by(country) %>%
summarise(total=n()) %>%
arrange(desc(total))
fisheries1 %>%
filter(year>=2008 & year<=2012) %>%
```
fisheries1 %>%
filter(year>=2008 & year<=2012)
fisheries1 %>%
filter(year>=2008 & year<=2012) %>%
filter(asfis_species_name == "Cephalopoda")
fisheries1 %>%
filter(year>=2008 & year<=2012) %>%
filter(asfis_species_name == "Cephalopoda") %>%
summarise(total=n())
fisheries1 %>%
filter(year>=2008 & year<=2012) %>%
filter(asfis_species_name == "Cephalopoda") %>%
group_by(country) %>%
summarise(total=n())
fisheries1 %>%
filter(year>=2008 & year<=2012) %>%
filter(asfis_species_name == "Cephalopoda") %>%
group_by(country) %>%
summarise(total=n()) %>%
arrange(desc(total))
fisheries1 %>%
filter(year>=2008, year<=2012)
fisheries1 %>%
filter(year>=2008, year<=2012) %>%
group_by(asfis_species_name)
fisheries_tidy %>%
summarise(disinct_countries=n_distinct(country))
fisheries1 %>%
mutate(asfis_species_number=as.factor(asfis_species_number)) %>%
summarise(distinct_species=n_distict(asfis_species_number))
fisheries1 %>%
mutate(asfis_species_number=as.factor(asfis_species_number)) %>%
summarise(distinct_species=n_distinct(asfis_species_number))
fisheries1 %>%
group_by(country) %>%
filter(year==2000) %>%
summarise(catch_total=sum(catch, na.rm = T),
n=n())%>%
arrange(desc(catch_total))
fisheries1 %>%
filter(year>=1990 & year<=2000) %>%
filter(asfis_species_name == "Sardina pilchardus") %>%
group_by(country) %>%
summarise(catch_total2=sum(catch, na.rm = T),
n=n()) %>%
arrange(desc(catch_total2))
fisheries1 %>%
filter(year>=2008 & year<=2012) %>%
filter(asfis_species_name == "Cephalopoda") %>%
group_by(country) %>%
summarise(catch_total3=sum(catch,na.rm = T),
n=n()) %>%
arrange(desc(catch_total3))
fisheries1 %>%
filter(year>=2008, year<=2012) %>%
group_by(asfis_species_name)
View(fisheries_tidy)
fisheries1 %>%
filter(year>=2008, year<=2012) %>%
group_by(asfis_species_name) %>%
summarise(catch_total4=sum(catch, na.rm = T),
n=n())
fisheries1 %>%
filter(year>=2008, year<=2012) %>%
group_by(asfis_species_name) %>%
summarise(catch_total4=sum(catch, na.rm = T),
n=n()) %>%
arrange(desc())
fisheries1 %>%
filter(year>=2008, year<=2012) %>%
group_by(asfis_species_name) %>%
summarise(catch_total4=sum(catch, na.rm = T),
n=n()) %>%
arrange(desc(catch_total4))
fisheries1 %>%
filter(year>=2008, year<=2012) %>%
group_by(asfis_species_name) %>%
summarise(catch_total4=sum(catch, na.rm = T),
n=n()) %>%
filter(asfis_species_name!=Osteichthyes) %>%
arrange(desc(catch_total4))
fisheries1 %>%
filter(year>=2008, year<=2012) %>%
group_by(asfis_species_name) %>%
summarise(catch_total4=sum(catch, na.rm = T),
n=n()) %>%
filter(asfis_species_name!="Osteichthyes") %>%
arrange(desc(catch_total4))
fisheries1 %>%
filter(country == "China") %>%
filter(year>=1950, year<=2000)
fisheries1 %>%
filter(country == "China") %>%
filter(year>=1950, year<=2000) %>%
group_by(asfis_species_name) %>%
summarise(catch_total5=sum(catch,na.rm = T),
n=n()) %>%
arrange(desc(catch_total5))
fisheries1 %>%
filter(country == "China") %>%
filter(year>=1950, year<=2000) %>%
group_by(asfis_species_name) %>%
filter(asfis_species_name!="Osteichthyes") %>%
summarise(catch_total5=sum(catch,na.rm = T),
n=n()) %>%
arrange(desc(catch_total5))
library(tidyverse)
library(janitor)
library(skimr)
fisheries <- readr::read_csv(file = "data/FAO_1950to2012_111914.csv")
names(fisheries)
dim(fisheries)
is.na(fisheries)
class(fisheries)
View(fisheries)
class(fisheries$`Common name`)
fisheries<- clean_names(fisheries)
fisheries_tidy <- fisheries %>%
pivot_longer(-c(country,common_name,isscaap_group_number,isscaap_taxonomic_group,asfis_species_number,asfis_species_name,fao_major_fishing_area,measure),
names_to = "year",
values_to = "catch",
values_drop_na = TRUE) %>%
mutate(year= as.numeric(str_replace(year, 'x', ''))) %>%
mutate(catch= str_replace(catch, c(' F'), replacement = '')) %>%
mutate(catch= str_replace(catch, c('...'), replacement = '')) %>%
mutate(catch= str_replace(catch, c('-'), replacement = '')) %>%
mutate(catch= str_replace(catch, c('0 0'), replacement = ''))
fisheries_tidy <- fisheries %>%
pivot_longer(-c(country,common_name,isscaap_group_number,isscaap_taxonomic_group,asfis_species_number,asfis_species_name,fao_major_fishing_area,measure),
names_to = "year",
values_to = "catch",
values_drop_na = TRUE) %>%
mutate(year= as.numeric(str_replace(year, 'x', ''))) %>%
mutate(catch= str_replace(catch, c(' F'), replacement = '')) %>%
mutate(catch= str_replace(catch, c('...'), replacement = '')) %>%
mutate(catch= str_replace(catch, c('-'), replacement = '')) %>%
mutate(catch= str_replace(catch, c('0 0'), replacement = ''))
fisheries_tidy %>%
summarise(disinct_countries=n_distinct(country))
unique(fisheries_tidy$country)
names(fisheries_tidy)
fisheries1 <- select(fisheries_tidy, country, isscaap_group_number, asfis_species_name, asfis_species_number, year, catch)
fisheries1 %>%
mutate(asfis_species_number=as.factor(asfis_species_number)) %>%
summarise(distinct_species=n_distinct(asfis_species_number))
fisheries1 %>%
group_by(country) %>%
filter(year==2000) %>%
summarise(catch_total=sum(catch, na.rm = T),
n=n())%>%
arrange(desc(catch_total))
fisheries1 %>%
mutate(asfis_species_number=as.factor(asfis_species_number)) %>%
summarise(distinct_species=n_distinct(asfis_species_number))
fisheries1 %>%
group_by(country) %>%
filter(year==2000) %>%
summarise(catch_total=sum(catch, na.rm = T),
n=n())%>%
arrange(desc(catch_total))
fisheries1 %>%
group_by(country) %>%
filter(year==2000)
fisheries1 %>%
group_by(country) %>%
filter(year==2000) %>%
summarise(catch_total=sum(catch, na.rm = T),
n=n())%>%
arrange(desc(catch_total))
View(fisheries1)
fisheries1 %>%
filter(year>=1990 & year<=2000) %>%
filter(asfis_species_name == "Sardina pilchardus") %>%
group_by(country) %>%
summarise(catch_total2=sum(catch, na.rm = T),
n=n()) %>%
arrange(desc(catch_total2))
fisheries1 <- select(fisheries_tidy, country, isscaap_group_number, asfis_species_name, asfis_species_number, year, catch)
fisheries1 %>%
mutate(asfis_species_number=as.factor(asfis_species_number)) %>%
summarise(distinct_species=n_distinct(asfis_species_number))
fisheries1 %>%
group_by(country) %>%
filter(year==2000) %>%
summarise(catch_total=sum(catch, na.rm = T),
n=n())%>%
arrange(desc(catch_total))
fisheries1$catch <- as.numeric(fisheries1$catch)
fisheries1 %>%
group_by(country) %>%
filter(year==2000) %>%
summarise(catch_total=sum(catch, na.rm = T),
n=n())%>%
arrange(desc(catch_total))
fisheries1 %>%
filter(year>=1990 & year<=2000) %>%
filter(asfis_species_name == "Sardina pilchardus") %>%
group_by(country) %>%
summarise(catch_total2=sum(catch, na.rm = T),
n=n()) %>%
arrange(desc(catch_total2))
fisheries1 %>%
filter(year>=2008 & year<=2012) %>%
filter(asfis_species_name == "Cephalopoda") %>%
group_by(country) %>%
summarise(catch_total3=sum(catch,na.rm = T),
n=n()) %>%
arrange(desc(catch_total3))
fisheries1 %>%
filter(country == "China") %>%
filter(year>=1950, year<=2000) %>%
group_by(asfis_species_name) %>%
filter(asfis_species_name!="Osteichthyes") %>%
summarise(catch_total5=sum(catch,na.rm = T),
n=n()) %>%
arrange(desc(catch_total5))
